%{
#include <stdio.h>
#include <string.h>

void reverse(char *str) {
    int n = strlen(str);
    for (int i = 0; i < n / 2; i++) {
        char temp = str[i];
        str[i] = str[n - i - 1];
        str[n - i - 1] = temp;
    }
}
%}

%%

// Match words (sequences of alphabetic characters)
[a-zA-Z]+ {
    char word[100]; // Buffer to hold the word
    strncpy(word, yytext, yyleng);
    word[yyleng] = '\0'; // Null-terminate the string
    reverse(word); // Reverse the word
    printf("%s ", word); // Print the reversed word
}

// Match whitespace (spaces, tabs, newlines)
[ \t\n]+ {
    // Print the whitespace as is
    printf("%s", yytext);
}

. { /* Ignore any other characters */ }

%%

// Main function
int main(int argc, char **argv) {
    yylex(); // Start the lexical analysis
    return 0;
}